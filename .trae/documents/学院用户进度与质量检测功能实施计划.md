## 目标与范围
- 学院用户登录后，查看本学院：问答对与习题总数量、目标值、达成率（比例与状态）
- 学院用户可在列表中删除自己的解析文件；删除后即时刷新数量与达成率
- 增加质量检测机制：为问答对与习题构建自动规则校验与评分，支持汇总视图与问题定位

## 学院用户视图改造
- 在“上传数据/历史记录”上方新增“进度概览”卡片：
  - 指标：问答对总数、习题总数、目标值、达成率百分比、状态（达标/未达标/未设定）
  - 计算：读取 `list_parsed_datasets(college)`，按类型累加；读取 `get_targets(college)` 获取目标
- 在“历史记录”每个解析文件的展开面板中：
  - 显示文件贡献条数、类型
  - 提供“删除”按钮（调用 `delete_path`，仅对解析文件 `_parsed_qa/ex.csv`）
  - 删除成功后：重新计算本页的累计数量与达成率（即时刷新）

## 删除与达成率联动
- 删除后：
  - 重新枚举 `list_parsed_datasets(college)` 计算新总数
  - 更新页面的达标状态与比例
  - 若使用状态缓存（如 `st.session_state`）则同步清除对应条目，确保一致

## 质量检测机制设计
- 新增模块 `modules/quality.py`：提供行级校验与文件级评分
- 通用校验（两类通用）：
  - 编码/乱码检测：是否存在不可见字符、异常编码回退
  - 空值/重复：必填列为空、整行重复（基于哈希或关键列组合）
  - 文本长度与噪声：过短（<3 字）、过长、包含异常符号比例高
  - 语言/内容检测（轻量）：非中文占比、疑似敏感词（可配置）
- 问答对专项：
  - 必填列 `question/answer` 均非空
  - 问题合理性：疑似无标点或仅由数字/字母构成、过短
  - 答案合理性：避免仅有符号、与问题完全一致
- 习题专项：
  - 选择题：`options` 非空；`answer` 属于 `A/B/C/...`；`options` 结构规范（可解析行）
  - 填空题：`answer` 长度合理（过短/过长）；不包含明显选项格式
  - 判断题：`answer` 属于集合 {True/False/是/否/对/错}
  - 简答/论述/案例：`stem` 非空；`answer` 与 `analysis` 的长度与差异度（避免完全重复）
  - 知识点：若存在 `knowledge`，进行空值与枚举/规范性（可选）
- 评分与分级：
  - 行级评分：每条 0–100（规则加权）；文件级为均值
  - 严重程度：Error（阻断）、Warn（提示）、Info（建议），支持过滤
  - 输出列：`quality_score`、`quality_flags`（JSON/分隔符）

## 界面集成
- 在解析预览 `render_overview` 中新增质量概览：平均得分、Error/Warn 计数
- 在数据表 `render_tabs` 中：
  - 增加“仅显示问题项”开关（过滤 `quality_flags` 包含 Error 或 Warn）
  - 行展示质量徽标（如红/黄/蓝标注）
- 管理员“学院管理”中新增质量统计：各学院文件的平均分、问题计数与TOP问题类型

## 技术实现
- 解析阶段（`parse_uploaded_file`）后调用质量检测，对 `df` 增列并返回 `meta.quality` 概览
- 存储：质量列随 `*_parsed_qa.csv`/`*_parsed_ex.csv` 一并保存；导出时包含质量列
- 删除：复用现有 `delete_path`；删除后重算统计并更新 UI

## 数据结构
- DataFrame 新增列：`quality_score: int`，`quality_flags: str`
- Meta 新增：`quality_summary: {score_avg, error_count, warn_count}`
- 质量规则配置：`config/quality.yaml`（可选），便于后续调整权重与阈值

## 单测与验收
- 单测：
  - QA：缺列、重复、过短文本、乱码示例
  - 选择/判断/填空：不合法答案、选项缺失等
  - 评分与标志：校验打分范围与标志生成
  - 删除后统计更新：删除解析文件后数量与达成率变化
- 验收：
  - 学院视图显示达成率；删除后即时更新
  - 质量概览与问题过滤可用；导出包含质量字段

请确认以上计划，确认后我将开始编码实现上述改动并补充必要的测试。