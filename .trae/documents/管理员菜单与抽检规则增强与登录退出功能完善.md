## 目标
- 菜单重构为：上传数据、历史记录、汇总统计、学院管理、测试样例、汇总输出（管理员角色显示完整菜单）。
- 差异化“类型抽检”规则：针对不同题型提供专属抽检与校验，并在预览中展示。
- 管理员与学院用户均可查看解析预览（上传后、历史/汇总中）
- 汇总统计与学院管理支持多学院选择与排序（单选/多选控件）。
- 增加退出登录与切换账号功能。

## 菜单与退出
- 在 `app.py` 登录成功后侧栏构建菜单：管理员显示六项；普通用户保留上传数据、历史记录。
- 在 `app.py` 登录成功分支中加入 `authenticator.logout("退出登录", "sidebar")`，并在点击后清理会话状态以便切换账号。

## 预览与抽检规则
- 在 `modules/ui.py` 增加 `render_type_checks(df, meta)`：
  - 判断题：统计 `answer` 分布（True/False 或 A/B），展示分布图（`st.bar_chart`），提示是否均衡。
  - 选择题：解析 `options` 列，校验 A/B/C/D 是否完整、答案是否在选项中，统计缺失比例，列出样本问题项。
  - 填空题：校验 `answer` 非空比例，展示缺失项示例。
  - 简答/论述/案例分析：校验 `analysis` 字段存在与长度，统计空解析比例。
  - 通用：展示 20 条随机抽检表（保留现有 `render_tabs`），并在“类型抽检”标签页展示上述差异化校验。
- 在上传解析成功与管理员历史/详情展开处调用 `render_tabs(df)` 与 `render_type_checks(df, meta)`。

## 汇总统计
- 在“汇总统计”页：
  - 增加 `st.multiselect("选择学院", cols, default=cols)` 过滤显示范围。
  - 增加 `st.radio("排序", ["按问答对数量", "按习题数量", "按达标状态"])` 控制排序字段。
  - 保留详情展开，详情中提供 `render_tabs` 与 `render_type_checks` 预览。

## 学院管理
- 学院选择：同时提供 `st.selectbox`（单选）与 `st.multiselect`（批量）用于过滤列表与目标配置显示；
- 目标设置：保留问答对与习题总目标，以及各题型目标的数值输入（非下拉）；批量选择时展示合计或逐项卡片；
- 详情管理：展开每个提交项，支持预览与删除（保留现有逻辑）。
- 账户管理：保留添加学院、修改密码表单；写入 `config/users.yaml`（bcrypt 哈希）。

## 汇总输出
- 保留现有导出功能（单学院/全部、CSV/Excel、多 Sheet 按题型）并加上“按筛选学院导出”的路径：基于 multiselect 选择的学院集合打包导出。

## 实现细节
- `app.py`：
  - 菜单：在管理员分支改为六项侧栏菜单；在非管理员保持两项。
  - 退出：加入 `authenticator.logout`；点击时清空 `st.session_state` 的认证相关键。
  - 调用位置：上传数据、历史、汇总、学院管理的详情都调用 `render_tabs` 与新增 `render_type_checks`。
- `modules/ui.py`：
  - 新增 `render_type_checks` 与抽检用的子函数（选项解析、分布统计、缺失检测）。
  - 保持 `render_tabs` 原接口，新增第三个标签页“类型抽检”。

## 验证
- 运行现有测试套件，确保解析与存储逻辑未破坏。
- 手动验证：
  - 管理员登录后菜单显示六项；普通用户两项。
  - 上传不同题型的文件，在预览页能看到差异化抽检。
  - 汇总统计/学院管理页可通过多选筛选学院并改变排序；展开详情能预览。
  - 侧栏可退出登录并切换账号。

## 回滚与兼容
- 所有改动均在 `app.py` 与 `modules/ui.py` 内新增/扩展函数与分支，保留原有接口；如需回滚，可撤销这两处改动并保留现有解析/存储模块。